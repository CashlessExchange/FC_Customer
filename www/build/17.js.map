{"version":3,"sources":["../../src/pages/marketplacetransaction/marketplacetransaction.module.ts","../../src/pages/marketplacetransaction/marketplacetransaction.ts"],"names":[],"mappings":"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","file":"17.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MarketplacetransactionPage } from './marketplacetransaction';\n\n@NgModule({\n  declarations: [\n    MarketplacetransactionPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MarketplacetransactionPage),\n  ],\n})\nexport class MarketplacetransactionPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/marketplacetransaction/marketplacetransaction.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, Platform } from 'ionic-angular';\nimport { NativeStorage } from '@ionic-native/native-storage';\nimport { Api } from '../../providers/api/api';\nimport { CouponsPage } from '../coupons/coupons';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-marketplacetransaction',\n  templateUrl: 'marketplacetransaction.html',\n})\nexport class MarketplacetransactionPage {\n\n\n  private transactions: any[] = [];\n  private customerid: string;\n\n  constructor(\n    private platform:Platform,\n    public storage: NativeStorage,\n    public loadingCtrl: LoadingController,\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private autService: Api) {\n\n    const loading = this.loadingCtrl.create({\n      spinner: 'hide',\n      content: `Please Wait..\n      \n      <div class=\"custom-spinner-container\">\n        <div class=\"custom-spinner-box\"></div>\n      </div>`\n    });\n\n    loading.present();\n    this.laodTransactions();\n    setTimeout(() => {\n      loading.dismiss();\n    }, 0);\n  }\n\n  async laodTransactions() {\n\n    if (!this.platform.is('core')) {\n      await this.storage.getItem('user-id').then((data) => {\n        if (data != null || data != undefined) {\n          this.customerid = data;\n        }\n      });\n    } else {\n      this.customerid = \"40\";\n    }\n\n    let databasecreds = {\n      username: \"freedom-pos\",\n      password: \"150498AV\",\n      reference: \"\",\n      customerid: this.customerid,\n      token: \"\"\n    };\n    console.log(databasecreds);\n\n    //let trans: any = await this.autService.serviceTransaction(databasecreds, \"?getTransactions=\" + \"99\");\n    let trans:any = await this.autService.marketPlaceService(databasecreds,\"fetchOrderDetails.php?customer_id=\"+this.customerid);\n\n    console.log(trans.orderDetails);\n\n    this.transactions = trans.orderDetails;\n\n    //for (let entry of this.transactions) {\n    //  entry.device_id = await this.getMerchantData(entry.merchant_id);\n    //}\n\n  }\n\n  async getMerchantData(id: string) {\n\n    let databasecreds = {\n      username: \"merchantbackuser\",\n      password: \"150498AV\",\n      reference: \"\",\n      customerid: this.customerid,\n      token: \"\",\n      id: id\n    };\n    console.log(databasecreds);\n\n    //let merch: any = await this.autService.serviceTransaction(databasecreds, \"?getMerchant=\" + \"99\");\n    let merch: any = await this.autService.serviceTransaction(databasecreds, \"?getMerchant=\" + \"99\");\n\n    console.log(merch);\n    return merch;\n\n  }\n\n  filter(value: string) {\n    if (value === \"1\") {\n      return \"yes\";\n    }\n    else {\n      return \"no\";\n    }\n  }\n\n  addPoint(num) {\n    let temp = num.toString();\n    if (temp.length === 1) {\n      temp = \"0.0\" + temp;\n    } else if (temp.length === 2) {\n      temp = \"0.\" + temp;\n    }\n    else {\n      let lengthnum = temp.length;\n      temp = temp.substring(0, lengthnum - 2) + \".\" + temp.substring(lengthnum - 2, lengthnum);\n    }\n    return temp;\n  }\n\n  openCoupon(coupons:any){\n    console.log(coupons);\n    this.navCtrl.push(CouponsPage, {coupon:coupons});\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/marketplacetransaction/marketplacetransaction.ts"],"sourceRoot":""}