{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/pages/home/home.ts"],"names":[],"mappings":"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","file":"22.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { HomePage } from './home';\n\n@NgModule({\n  declarations: [\n    HomePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(HomePage),\n  ],\n})\nexport class HomePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, Platform } from 'ionic-angular';\nimport { NativeStorage } from '@ionic-native/native-storage';\nimport { Api } from '../../providers/api/api';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { AndroidPermissions } from '@ionic-native/android-permissions';\nimport * as moment from 'moment-timezone';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html',\n})\nexport class HomePage {\n  private customerid: string = \"\";\n  private locationid: string = \"\";\n  private customer: any;\n  private certificates: any;\n  private logo: string = \"assets/img/shop_merchant.png\";\n  private splitted: string[] = [];\n  private certs: any = [];\n  private transactions: any[] = [];\n  private lat: number = -32.9477132;\n  private lng: number = -60.630465800000025;\n  private marketplaceInfo:boolean=false;\n  private marketplacediscount =0;\n  private marketpoints = 0;\n\n  constructor(\n    public platform: Platform,\n    private androidPermissions: AndroidPermissions,\n    private geolocation: Geolocation,\n    private auth: Api,\n    private storage: NativeStorage,\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private loadingCtrl: LoadingController) {\n\n  }\n  async ionViewWillEnter() {\n\n    const loading = this.loadingCtrl.create({\n      spinner: 'hide',\n      content: `Please Wait..\n          \n          <div class=\"custom-spinner-container\">\n            <div class=\"custom-spinner-box\"></div>\n          </div>`\n    });\n\n    this.certs = [];\n    //loading.present();\n    await this.locateMe();\n    this.readCustomerData();\n    await this.loadCertis();\n    await this.detokenCertificate();\n    await this.laodTransactions();\n    //this.getMerchantData();\n    //loading.dismiss();\n  }\n\n  async specialDeals(){\n\n\n    let databasecreds1 = {\n      username: \"freedom-app\",\n      password: \"150498AV\",\n      customerid: this.customerid,\n    };\n\n    let points: any = await this.auth.marketplacepointservice(databasecreds1, \"?getPoints=\" + \"99\");\n    console.log(points.results);\n    let lengthnum = points.results.length;\n    this.marketpoints = points.results.substring(0, lengthnum - 2);\n\n    let databasecreds = {\n      username: \"username\",\n      password: \"test\",\n    };\n\n\n    let currentUnixTime = moment().tz(\"America/New_York\").unix();\n    let param = \"&customer_id=\"+this.customerid+\n                \"&timestamp=\"+currentUnixTime;\n    let order:any = await this.auth.marketPlaceService(databasecreds,\"getMonthlyAdditionalDiscountForCustomer.php?\"+param);\n    console.log(order);\n    if ( order.additional_discount != \"0\"){\n      console.log(order.additional_discount);\n      this.marketplacediscount = order.additional_discount;\n      this.marketplaceInfo =true;\n    }\n  }\n\n  async readCustomerData() {\n\n    //await this.storage.ready().then((data) => {\n    //  data.setItem('user-id', \"44\");\n    //});\n\n    if (!this.platform.is('core')) {\n      await this.storage.getItem('user-id').then((data) => {\n        if (data != null || data != undefined) {\n          this.customerid = data;\n        }\n      });\n    } else {\n      this.customerid = \"40\";\n    }\n\n    await this.specialDeals();\n\n    let type = \"customer_data.php?customerid=\" + this.customerid;\n    console.log(type);\n    this.customer = await this.auth.serviceFreedom(\"\", type);\n    console.log(this.customer);\n\n  }\n\n  async locateMe() {\n\n    if (this.platform.is('android')) {\n      this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.ACCESS_COARSE_LOCATION).then(\n        success => console.log('Permission granted'),\n        err => this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.ACCESS_COARSE_LOCATION)\n      );\n    }\n\n    await this.geolocation.getCurrentPosition().then((location) => {\n      this.lat = location.coords.latitude;\n      this.lng = location.coords.longitude;\n    }).catch((err) => {\n      alert(err);\n    });\n\n  }\n\n  async detokenCertificate() {\n    console.log(this.certificates);\n\n    if (this.certificates != null || this.certificates != undefined) {\n\n\n\n      //alert(responses.Value);\n      let date = this.certificates.timestamp;\n      let customerid = this.certificates.customer_id;\n      let merchantid = this.certificates.merchant_id;\n      let price = this.certificates.value;\n\n      let merchantdata: any = await this.getMerchantData(merchantid);\n      let merchantname = merchantdata.name;\n      let merchantlogo = this.logo;\n      console.log(merchantdata.logo.length);\n      if (merchantdata.logo.length != 0) {\n        console.log(merchantlogo);\n\n        merchantlogo = merchantdata.logo;\n      }\n\n      console.log(merchantlogo);\n      let cert: any = {\n        merchantid: merchantid,\n        merchantname: merchantname,\n        merchantlogo: merchantlogo,\n        token: this.certificates,\n        value: price\n      }\n      console.log(this.splitted);\n      this.certs.push(cert);\n    } else {\n      this.certs = this.certificates;\n    }\n\n  }\n\n  async getMerchantData(id: string) {\n\n    let databasecreds = {\n      username: \"merchantbackuser\",\n      password: \"150498AV\",\n      reference: \"\",\n      customerid: this.customerid,\n      token: \"\",\n      id: id\n    };\n    console.log(databasecreds);\n\n    let merch: any = await this.auth.serviceTransaction(databasecreds, \"?getMerchant=\" + \"99\");\n    console.log(merch);\n    return merch;\n\n  }\n\n  async loadCertis() {\n\n\n    if (!this.platform.is('core')) {\n      await this.storage.getItem('user-id').then((data) => {\n        if (data != null || data != undefined) {\n          this.customerid = data;\n        }\n      });\n    } else {\n      this.customerid = \"40\";\n    }\n\n    let databasecreds = {\n      username: \"freedom-app\",\n      password: \"150498AV\",\n      reference: \"\",\n      customerid: this.customerid,\n      token: \"\"\n    };\n    console.log(databasecreds);\n\n    let certis: any = await this.auth.certificateService(databasecreds, \"?getCertis=\" + \"99\");\n    console.log(certis.results);\n    if (certis.results != undefined) {\n\n      let length = certis.results.length;\n      this.certificates = certis.results[length - 1];\n    } else {\n      this.certificates = certis.results;\n    }\n\n  }\n\n  async laodTransactions() {\n\n    if (!this.platform.is('core')) {\n      await this.storage.getItem('user-id').then((data) => {\n        if (data != null || data != undefined) {\n          this.customerid = data;\n        }\n      });\n    } else {\n      this.customerid = \"40\";\n    }\n\n    let databasecreds = {\n      username: \"freedom-app\",\n      password: \"150498AV\",\n      reference: \"\",\n      customerid: this.customerid,\n      token: \"\"\n    };\n    console.log(databasecreds);\n\n    let trans: any = await this.auth.serviceTransaction(databasecreds, \"?getTransactions=\" + \"99\");\n    console.log(trans.results);\n\n    this.transactions = trans.results;\n    if (this.transactions != undefined) {\n\n      let length = this.transactions.length;\n      if (length > 5) {\n        console.log(this.transactions.slice(length - 4, length));\n        this.transactions = this.transactions.slice(length - 4, length);\n      }\n    }\n    for (let entry of this.transactions) {\n      entry.device_id = await this.getMerchantData(entry.merchant_id);\n    }\n\n  }\n\n\n  filter(value: string) {\n    if (value === \"1\") {\n      return \"yes\";\n    }\n    else {\n      return \"no\";\n    }\n  }\n\n  addPoint(num) {\n    let temp = num.toString();\n    if (temp.length === 1) {\n      temp = \"0.0\" + temp;\n    } else if (temp.length === 2) {\n      temp = \"0.\" + temp;\n    }\n    else {\n      let lengthnum = temp.length;\n      temp = temp.substring(0, lengthnum - 2) + \".\" + temp.substring(lengthnum - 2, lengthnum);\n    }\n    return temp;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}