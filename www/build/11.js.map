{"version":3,"sources":["../../src/pages/search/search.module.ts","../../src/pages/search/search.ts"],"names":[],"mappings":"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","file":"11.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { SearchPage } from './search';\n\n@NgModule({\n  declarations: [\n    SearchPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SearchPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    SearchPage\n  ]\n})\nexport class SearchPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { Api } from '../../providers/api/api';\n\nimport { Item } from '../../models/item';\nimport { Items } from '../../providers/providers';\nimport { listenToElementOutputs } from '@angular/core/src/view/element';\n\n@IonicPage()\n@Component({\n  selector: 'page-search',\n  templateUrl: 'search.html'\n})\nexport class SearchPage {\n\n  currentItems: any = [];\n  private logo:string=\"assets/img/shop_merchant.png\";\n  \n  constructor(public navCtrl: NavController, \n    private autService:Api,\n    public navParams: NavParams, \n    public items: Items) { }\n\n  /**\n   * Perform a service for the proper items.\n   */\n  async getItems(ev) {\n    let val = ev.target.value;\n    console.log(ev);\n    let ref = val;\n    let databasecreds = {\n      username: \"merchantbackuser\",\n      password: \"150498AV\",\n      zipcode: ref\n    };\n    console.log(databasecreds);\n\n    let datas: any;\n    datas = await this.autService.merchantService(databasecreds, \"?getlocation=\" + \"99\");\n    console.log(datas.merchlist);\n    \n    let listOfMerchants:any[]=[];\n    console.log(listOfMerchants);\n    \n    for (let entry of datas.merchlist){\n\n      let searchParam:any=entry.merchant_id;\n      console.log(searchParam);\n      let merchantdata:any = await this.getMerchantData(entry.merchant_id);\n      merchantdata.id=searchParam;\n\n      if(merchantdata.logo.length === 0){\n        //console.log(merchantlogo);\n        \n        merchantdata.logo = this.logo;\n      }\n      listOfMerchants.push(merchantdata);\n\n    }\n    if (!val || !val.trim()) {\n      this.currentItems = [];\n      return;\n    }\n    this.currentItems=listOfMerchants;\n  }\n\n  async getMerchantData(id:string){\n    \n        let databasecreds={username:\"merchantbackuser\",\n        password:\"150498AV\",\n        reference:\"\",\n        token:\"\",\n        id:id};\n        console.log(databasecreds);\n    \n        let merch:any = await this.autService.serviceTransaction(databasecreds,\"?getMerchant=\"+\"99\");\n        console.log(merch);\n        return merch;\n    \n  }\n\n  /**\n   * Navigate to the detail page for this item.\n   */\n  openItem(item: any) {\n    console.log(item);\n    this.navCtrl.push('ItemDetailPage', {\n      item: item.id\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.ts"],"sourceRoot":""}