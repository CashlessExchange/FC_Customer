{"version":3,"sources":["../../src/pages/item-detail/item-detail.module.ts","../../src/pages/item-detail/item-detail.ts"],"names":[],"mappings":"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","file":"20.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { ItemDetailPage } from './item-detail';\n\n@NgModule({\n  declarations: [\n    ItemDetailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ItemDetailPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    ItemDetailPage\n  ]\n})\nexport class ItemDetailPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/item-detail/item-detail.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { Api } from '../../providers/api/api';\n\nimport { } from '@types/googlemaps';\n\n@IonicPage()\n@Component({\n  selector: 'page-item-detail',\n  templateUrl: 'item-detail.html'\n})\nexport class ItemDetailPage {\n  @ViewChild('map') mapElement;\n  \n    private token: any = \"\";\n    private splitted: string[] = [];\n    private date: string;\n    private customerid: string;\n    private merchantid: string;\n    private price: string;\n    private lat: number = 0;\n    private lng: number = 0;\n    private map: any;\n    private logo: string = \"assets/img/shop_merchant.png\";\n    private cert: any = {\n      merchantlogo: this.logo\n    };\n  \n  item: any;\n\n  constructor(\n    public autService: Api,\n    public navCtrl: NavController, \n    navParams: NavParams\n  ) {\n    this.item = navParams.get('item');\n    this.showDetails();\n  }\n\n\n  async showDetails() {\n  \n    await this.merchantData();\n    this.initMap();\n  }\n  async merchantData() {\n    let merchantdata: any = await this.getMerchantData(this.item);\n    let merchantname = merchantdata.name;\n    let merchantlogo = this.logo;\n    if (merchantdata.logo != undefined && merchantdata.logo.length != 0) {\n      console.log(merchantlogo);\n\n      merchantlogo = merchantdata.logo;\n    }\n    let merchantaddress = merchantdata.address;\n    let merchantmail = merchantdata.mail;\n\n    console.log(merchantlogo);\n    let cert: any = {\n      merchantid: this.merchantid,\n      merchantname: merchantname,\n      merchantlogo: merchantlogo,\n      merchantmail: merchantmail,\n      merchantaddress: merchantaddress\n    }\n    console.log(this.splitted);\n    this.cert = cert;\n\n  }\n\n  async initMap() {\n    let latLng = new google.maps.LatLng(this.lat, this.lng);\n    let googleObj: any = await this.autService.googleAPI(this.cert.merchantaddress);\n    if (googleObj != undefined) {\n      console.log(googleObj.results[0].geometry.location);\n      let positionByGoogle: any = googleObj.results[0].geometry.location;\n      latLng = new google.maps.LatLng(positionByGoogle.lat, positionByGoogle.lng);\n    }\n\n\n    let marker = {\n      position: latLng,\n      title: this.merchantid\n    };\n\n    let mapOptions = {\n\n      center: latLng,\n      zoom: 19,\n      mapTypeId: google.maps.MapTypeId.ROADMAP,\n      marker: marker\n\n    };\n    this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\n\n    this.map = this.addMarker(latLng, this.map);\n  }\n\n  addMarker(position, map) {\n    return new google.maps.Marker({\n      position,\n      map\n    });\n  }\n\n  async getMerchantData(id: string) {\n\n    let databasecreds = {\n      username: \"merchantbackuser\",\n      password: \"150498AV\",\n      reference: \"\",\n      token: \"\",\n      id: id\n    };\n    console.log(databasecreds);\n\n    let merch: any = await this.autService.serviceTransaction(databasecreds, \"?getMerchant=\" + \"99\");\n    console.log(merch);\n    return merch;\n\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/item-detail/item-detail.ts"],"sourceRoot":""}