{"version":3,"sources":["../../src/pages/paymethods/paymethods.module.ts","../../src/pages/paymethods/paymethods.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACF;AAU9C,IAAa,oBAAoB;IAAjC;IAAmC,CAAC;IAAD,2BAAC;AAAD,CAAC;AAAvB,oBAAoB;IARhC,uEAAQ,CAAC;QACR,YAAY,EAAE;YACZ,mEAAc;SACf;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,mEAAc,CAAC;SACzC;KACF,CAAC;GACW,oBAAoB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZS;AAC4C;AAC3C;AACG;AACM;AACS;AAS7D,IAAa,cAAc;IAQzB,wBACS,WAA8B,EAC7B,QAAiB,EACjB,UAAe,EAChB,OAAsB,EACtB,OAAsB,EACtB,SAAoB;QALpB,gBAAW,GAAX,WAAW,CAAmB;QAC7B,aAAQ,GAAR,QAAQ,CAAS;QACjB,eAAU,GAAV,UAAU,CAAK;QAChB,YAAO,GAAP,OAAO,CAAe;QACtB,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QAbrB,gBAAW,GAAU,EAAE,CAAC;QACxB,WAAM,GAAU,EAAE,CAAC;QAazB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;IACxB,CAAC;IAEK,yCAAgB,GAAtB;;gBAEQ,OAAO,UAgBF,KAAK,EAER,KAAK;;;;wBAnBb,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;kCACN,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;4BACtC,OAAO,EAAE,MAAM;4BACf,OAAO,EAAE,uIAIF;yBACR,CAAC;wBAEF,OAAO,CAAC,OAAO,EAAE,CAAC;wBAClB,qBAAM,IAAI,CAAC,SAAS,EAAE;;wBAAtB,SAAsB;wBAEtB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;wBACzB,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,IAAI,SAAS,CAAC,CAAC,CAAC;4BAGpD,GAAG,CAAC,cAAc,IAAI,CAAC,MAAM,EAAX,cAAW,EAAX,IAAW;;wCAEf;oCACV,QAAQ,EAAE,sBAAsB;oCAChC,WAAW,EAAE,kBAAkB;oCAC/B,OAAO,EAAE,KAAK;iCACf;gCAED,IAAI,CAAC,IAAI,GAAG;oCACV,QAAQ,EAAE,KAAK,CAAC,SAAS;oCACzB,SAAS,EAAE,KAAK,CAAC,YAAY;oCAC7B,UAAU,EAAE,KAAK,CAAC,cAAc;oCAChC,KAAK,EAAE,KAAK,CAAC,YAAY;oCACzB,IAAI,EAAE,KAAK,CAAC,WAAW;oCACvB,UAAU,EAAE,KAAK,CAAC,uBAAuB;oCACzC,IAAI,EAAE,KAAK,CAAC,IAAI;iCACjB;gCAED,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;6BAGlC;wBACH,CAAC;wBACD,UAAU,CAAC;4BACT,OAAO,CAAC,OAAO,EAAE,CAAC;wBACpB,CAAC,EAAE,CAAC,CAAC,CAAC;;;;;KAGP;IAEK,kCAAS,GAAf;;;gBAYM,aAAa;;;;6BAVb,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC,EAAzB,wBAAyB;wBAC3B,qBAAM,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,UAAC,IAAI;gCAC9C,EAAE,CAAC,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,SAAS,CAAC,CAAC,CAAC;oCACtC,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gCACzB,CAAC;4BACH,CAAC,CAAC;;wBAJF,SAIE,CAAC;;;wBAEH,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;;;wCAGL;4BAClB,QAAQ,EAAE,aAAa;4BACvB,QAAQ,EAAE,UAAU;4BACpB,SAAS,EAAE,EAAE;4BACb,UAAU,EAAE,IAAI,CAAC,UAAU;4BAC3B,KAAK,EAAE,EAAE;yBACV;wBACD,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;wBAET,qBAAM,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,aAAa,EAAE,YAAY,GAAG,IAAI,CAAC;;iCAArE,SAAqE;wBACvF,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;wBAC5B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC;;;;;KAC9B;IAED,iCAAQ,GAAR,UAAS,KAAK;QAEZ,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QACnB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,wEAAY,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC;IACnD,CAAC;IAED,+BAAM,GAAN,UAAO,KAAa;QAClB,IAAI,MAAM,GAAG,SAAS,CAAC;QACvB,IAAI,OAAO,GAAG,KAAK,CAAC,MAAM,CAAC;QAC3B,MAAM,CAAC,MAAM,GAAG,KAAK,CAAC,SAAS,CAAC,OAAO,GAAG,CAAC,EAAE,OAAO,CAAC,CAAC;IACxD,CAAC;IAED,gCAAO,GAAP;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,+DAAS,CAAC,CAAC;IAC/B,CAAC;IAEH,qBAAC;AAAD,CAAC;AA5GY,cAAc;IAJ1B,wEAAS,CAAC;QACT,QAAQ,EAAE,iBAAiB;OACG;KAC/B,CAAC;wEAUuC;QACpB,gEAAQ;QACL,mFAAG;QACP,oEAAa;QACb,kEAAa;QACX,SAAS;AA8F9B;SA5GY,cAAc,e","file":"15.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PaymethodsPage } from './paymethods';\n\n@NgModule({\n  declarations: [\n    PaymethodsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PaymethodsPage),\n  ],\n})\nexport class PaymethodsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/paymethods/paymethods.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, Platform } from 'ionic-angular';\nimport { CardsPage } from '../cards/cards';\nimport { Api } from '../../providers/api/api';\nimport { EditcardPage } from '../editcard/editcard';\nimport { NativeStorage } from '@ionic-native/native-storage';\n\n\n\n@IonicPage()\n@Component({\n  selector: 'page-paymethods',\n  templateUrl: 'paymethods.html',\n})\nexport class PaymethodsPage {\n  private cardsonpage: any[] = [];\n  private tokens: any[] = [];\n  private splitted: string[];\n  private customerid: string;\n  //private cardsonpage:{cardname:string,cardowner:string,cardnumber:string,month:string,year:string,checkdigit:string,icon:string}[] =[];\n  private card:any;\n\n  constructor(\n    public loadingCtrl: LoadingController,\n    private platform:Platform,\n    private autService: Api,\n    public storage: NativeStorage,\n    public navCtrl: NavController,\n    public navParams: NavParams) {\n    this.cardsonpage = [];\n  }\n\n  async ionViewWillEnter() {\n    this.cardsonpage = [];\n    const loading = this.loadingCtrl.create({\n      spinner: 'hide',\n      content: `Please Wait..\n      \n      <div class=\"custom-spinner-container\">\n        <div class=\"custom-spinner-box\"></div>\n      </div>`\n    });\n\n    loading.present();\n    await this.loadCards()\n\n    console.log(this.tokens);\n    if (this.tokens != null && this.tokens != undefined) {\n\n\n      for (let entry of this.tokens) {\n\n        let token = {\n          \"APIKey\": \"bDjnJKu7ip7097Vfq46I\",\n          \"TokenExID\": \"4323829200543105\",\n          \"Token\": entry\n        };\n\n        this.card = {\n          cardname: entry.card_type,\n          cardowner: entry.name_on_card,\n          cardnumber: entry.account_number,\n          month: entry.expire_month,\n          year: entry.expire_year,\n          checkdigit: entry.card_verification_value,\n          icon: entry.icon\n        }\n\n        this.cardsonpage.push(this.card);\n\n\n      }\n    }\n    setTimeout(() => {\n      loading.dismiss();\n    }, 0);\n\n\n  }\n\n  async loadCards() {\n\n    if (!this.platform.is('core')) {\n      await this.storage.getItem('user-id').then((data) => {\n        if (data != null || data != undefined) {\n          this.customerid = data;\n        }\n      });\n    } else {\n      this.customerid = \"73\";\n    }\n\n    let databasecreds = {\n      username: \"freedom-app\",\n      password: \"150498AV\",\n      reference: \"\",\n      customerid: this.customerid,\n      token: \"\"\n    };\n    console.log(databasecreds);\n\n    let certis: any = await this.autService.cardService(databasecreds, \"?getCards=\" + \"99\");\n    console.log(certis.results);\n    this.tokens = certis.results;\n  }\n\n  editCard(value) {\n\n    console.log(value);\n    this.navCtrl.push(EditcardPage, { card: value });\n  }\n\n  filter(value: string) {\n    let secret = \"*******\";\n    let endcard = value.length;\n    return secret + value.substring(endcard - 4, endcard);\n  }\n\n  addCard() {\n    this.navCtrl.push(CardsPage);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/paymethods/paymethods.ts"],"sourceRoot":""}